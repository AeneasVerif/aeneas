-- THIS FILE WAS AUTOMATICALLY GENERATED BY AENEAS
-- [polonius_list]
import Aeneas
open Aeneas Aeneas.Std Result ControlFlow Error
set_option linter.dupNamespace false
set_option linter.hashCommand false
set_option linter.unusedVariables false

/- You can set the `maxHeartbeats` value with the `-max-heartbeats` CLI option -/
set_option maxHeartbeats 1000000

namespace polonius_list

/- [polonius_list::List]
   Source: 'tests/src/polonius_list.rs', lines 6:0-9:1 -/
@[discriminant isize]
inductive List (T : Type) where
| Cons : T → List T → List T
| Nil : List T

/- [polonius_list::get_list_at_x]:
   Source: 'tests/src/polonius_list.rs', lines 16:0-30:1 -/
def get_list_at_x
  (ls : List Std.U32) (x : Std.U32) :
  Result ((List Std.U32) × (List Std.U32 → List Std.U32))
  := do
  match ls with
  | List.Cons hd tl =>
    if hd = x
    then ok (ls, fun ls1 => ls1)
    else
      let (l, get_list_at_x_back) ← get_list_at_x tl x
      let back := fun l1 => let tl1 := get_list_at_x_back l1
                            List.Cons hd tl1
      ok (l, back)
  | List.Nil => ok (List.Nil, fun ls1 => ls1)
partial_fixpoint

end polonius_list
