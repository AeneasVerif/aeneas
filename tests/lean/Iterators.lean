-- THIS FILE WAS AUTOMATICALLY GENERATED BY AENEAS
-- [iterators]
import Aeneas
open Aeneas Aeneas.Std Result Error
set_option linter.dupNamespace false
set_option linter.hashCommand false
set_option linter.unusedVariables false

namespace iterators

/- [iterators::iter_range]: loop 0:
   Source: 'tests/src/iterators.rs', lines 5:4-5:28 -/
def iter_range_loop (iter : core.ops.range.Range Std.Usize) : Result Unit := do
  let (o, iter1) ←
    core.iter.range.IteratorRange.next core.iter.range.StepUsize iter
  match o with
  | none => ok ()
  | some _ => iter_range_loop iter1
partial_fixpoint

/- [iterators::iter_range]:
   Source: 'tests/src/iterators.rs', lines 4:0-6:1 -/
def iter_range : Result Unit := do
  let iter ←
    core.iter.traits.collect.IntoIterator.Blanket.into_iter
      (core.iter.traits.iterator.IteratorRange core.iter.range.StepUsize)
      { start := 0#usize, end_ := 32#usize }
  iter_range_loop iter

/- [iterators::iter_range_step_by]: loop 0:
   Source: 'tests/src/iterators.rs', lines 9:4-9:33 -/
def iter_range_step_by_loop
  (iter : core.iter.adapters.step_by.StepBy (core.ops.range.Range Std.Usize)) :
  Result Unit
  := do
  let (o, iter1) ←
    core.iter.adapters.step_by.IteratorStepBy.next
      (core.iter.traits.iterator.IteratorRange core.iter.range.StepUsize) iter
  match o with
  | none => ok ()
  | some _ => iter_range_step_by_loop iter1
partial_fixpoint

/- [iterators::iter_range_step_by]:
   Source: 'tests/src/iterators.rs', lines 8:0-10:1 -/
def iter_range_step_by (n : Std.Usize) : Result Unit := do
  let sb ←
    core.iter.range.IteratorRange.step_by core.iter.range.StepUsize
      { start := 0#usize, end_ := n } 2#usize
  let iter ←
    core.iter.traits.collect.IntoIterator.Blanket.into_iter
      (core.iter.traits.iterator.IteratorStepBy
      (core.iter.traits.iterator.IteratorRange core.iter.range.StepUsize)) sb
  iter_range_step_by_loop iter

/- [iterators::slice_iter_mut_while]: loop 1:
   Source: 'tests/src/iterators.rs', lines 15:8-15:18 -/
def slice_iter_mut_while_loop1 (b : Bool) : Result Unit := do
  if b
  then slice_iter_mut_while_loop1 true
  else ok ()
partial_fixpoint

/- [iterators::slice_iter_mut_while]: loop 0:
   Source: 'tests/src/iterators.rs', lines 14:4-16:5 -/
def slice_iter_mut_while_loop0
  (b : Bool) (it : core.slice.iter.IterMut Std.U16) :
  Result (core.slice.iter.IterMut Std.U16)
  := do
  let (o, it1, next_back) ← core.slice.iter.IteratorIterMut.next it
  match o with
  | none => ok (next_back it1 none)
  | some _ =>
    slice_iter_mut_while_loop1 b
    let back ← slice_iter_mut_while_loop0 false it1
    ok (next_back back o)
partial_fixpoint

/- [iterators::slice_iter_mut_while]:
   Source: 'tests/src/iterators.rs', lines 12:0-17:1 -/
def slice_iter_mut_while
  (b : Bool) (s : Slice Std.U16) : Result (Slice Std.U16) := do
  let (it, iter_mut_back) ← core.slice.Slice.iter_mut s
  let back ← slice_iter_mut_while_loop0 b it
  ok (iter_mut_back back)

/- [iterators::slice_iter_while]: loop 1:
   Source: 'tests/src/iterators.rs', lines 22:8-22:18 -/
def slice_iter_while_loop1 (b : Bool) : Result Unit := do
  if b
  then slice_iter_while_loop1 true
  else ok ()
partial_fixpoint

/- [iterators::slice_iter_while]: loop 0:
   Source: 'tests/src/iterators.rs', lines 21:4-23:5 -/
def slice_iter_while_loop0
  (b : Bool) (s : Slice Std.U16) (it : core.slice.iter.Iter Std.U16) :
  Result Unit
  := do
  let (o, it1) ← core.slice.iter.IteratorSliceIter.next it
  match o with
  | none => ok ()
  | some _ => slice_iter_while_loop1 b
              slice_iter_while_loop0 false s it1
partial_fixpoint

/- [iterators::slice_iter_while]:
   Source: 'tests/src/iterators.rs', lines 19:0-24:1 -/
def slice_iter_while (b : Bool) (s : Slice Std.U16) : Result Unit := do
  let it ← core.slice.Slice.iter s
  slice_iter_while_loop0 b s it

/- [iterators::slice_iter_mut_while_early_return]: loop 1:
   Source: 'tests/src/iterators.rs', lines 29:8-29:18 -/
def slice_iter_mut_while_early_return_loop1 (b : Bool) : Result Unit := do
  if b
  then slice_iter_mut_while_early_return_loop1 true
  else ok ()
partial_fixpoint

/- [iterators::slice_iter_mut_while_early_return]: loop 0:
   Source: 'tests/src/iterators.rs', lines 28:4-35:1 -/
def slice_iter_mut_while_early_return_loop0
  (b : Bool) (it : core.slice.iter.IterMut Std.U16) :
  Result (core.slice.iter.IterMut Std.U16)
  := do
  let (o, it1, next_back) ← core.slice.iter.IteratorIterMut.next it
  match o with
  | none => ok (next_back it1 none)
  | some _ =>
    slice_iter_mut_while_early_return_loop1 b
    let back ← slice_iter_mut_while_early_return_loop0 false it1
    ok (next_back back o)
partial_fixpoint

/- [iterators::slice_iter_mut_while_early_return]:
   Source: 'tests/src/iterators.rs', lines 26:0-35:1 -/
def slice_iter_mut_while_early_return
  (s : Array Std.U16 256#usize) (b : Bool) :
  Result (Array Std.U16 256#usize)
  := do
  let (s1, to_slice_mut_back) ←
    (↑(Array.to_slice_mut s) : Result ((Slice Std.U16) × (Slice Std.U16 →
      Array Std.U16 256#usize)))
  let (it, iter_mut_back) ← core.slice.Slice.iter_mut s1
  let back ← slice_iter_mut_while_early_return_loop0 b it
  let s2 := iter_mut_back back
  ok (to_slice_mut_back s2)

/- [iterators::slice_iter_mut_while_early_return_two_bools]: loop 1:
   Source: 'tests/src/iterators.rs', lines 40:8-40:19 -/
def slice_iter_mut_while_early_return_two_bools_loop1
  (b0 : Bool) : Result Unit := do
  if b0
  then slice_iter_mut_while_early_return_two_bools_loop1 true
  else ok ()
partial_fixpoint

/- [iterators::slice_iter_mut_while_early_return_two_bools]: loop 0:
   Source: 'tests/src/iterators.rs', lines 39:4-46:1 -/
def slice_iter_mut_while_early_return_two_bools_loop0
  (b0 : Bool) (b1 : Bool) (it : core.slice.iter.IterMut Std.U16) :
  Result (core.slice.iter.IterMut Std.U16)
  := do
  let (o, it1, next_back) ← core.slice.iter.IteratorIterMut.next it
  match o with
  | none => ok (next_back it1 none)
  | some _ =>
    slice_iter_mut_while_early_return_two_bools_loop1 b0
    if b1
    then ok (next_back it1 o)
    else
      let back ←
        slice_iter_mut_while_early_return_two_bools_loop0 false false it1
      ok (next_back back o)
partial_fixpoint

/- [iterators::slice_iter_mut_while_early_return_two_bools]:
   Source: 'tests/src/iterators.rs', lines 37:0-46:1 -/
def slice_iter_mut_while_early_return_two_bools
  (s : Array Std.U16 256#usize) (b0 : Bool) (b1 : Bool) :
  Result (Array Std.U16 256#usize)
  := do
  let (s1, to_slice_mut_back) ←
    (↑(Array.to_slice_mut s) : Result ((Slice Std.U16) × (Slice Std.U16 →
      Array Std.U16 256#usize)))
  let (it, iter_mut_back) ← core.slice.Slice.iter_mut s1
  let back ← slice_iter_mut_while_early_return_two_bools_loop0 b0 b1 it
  let s2 := iter_mut_back back
  ok (to_slice_mut_back s2)

/- [iterators::slice_chunks_exact_iter]: loop 1:
   Source: 'tests/src/iterators.rs', lines 50:8-50:30 -/
def slice_chunks_exact_iter_loop1
  (iter : core.slice.iter.Iter Std.U128) : Result Unit := do
  let (o, iter1) ← core.slice.iter.IteratorSliceIter.next iter
  match o with
  | none => ok ()
  | some _ => slice_chunks_exact_iter_loop1 iter1
partial_fixpoint

/- [iterators::slice_chunks_exact_iter]: loop 0:
   Source: 'tests/src/iterators.rs', lines 49:4-51:5 -/
def slice_chunks_exact_iter_loop0
  (key : Array Std.U128 128#usize) (data : Slice Std.U8)
  (iter : core.slice.iter.ChunksExact Std.U8) :
  Result Unit
  := do
  let (o, iter1) ← core.slice.iter.IteratorChunksExact.next iter
  match o with
  | none => ok ()
  | some _ =>
    let s ← (↑(Array.to_slice key) : Result (Slice Std.U128))
    let i ← core.slice.Slice.iter s
    let iter2 ←
      core.iter.traits.collect.IntoIterator.Blanket.into_iter
        (core.iter.traits.iterator.IteratorSliceIter Std.U128) i
    slice_chunks_exact_iter_loop1 iter2
    slice_chunks_exact_iter_loop0 key data iter1
partial_fixpoint

/- [iterators::slice_chunks_exact_iter]:
   Source: 'tests/src/iterators.rs', lines 48:0-52:1 -/
def slice_chunks_exact_iter
  (key : Array Std.U128 128#usize) (data : Slice Std.U8) : Result Unit := do
  let ce ← core.slice.Slice.chunks_exact data 16#usize
  let iter ←
    core.iter.traits.collect.IntoIterator.Blanket.into_iter
      (core.iter.traits.iterator.IteratorChunksExact Std.U8) ce
  slice_chunks_exact_iter_loop0 key data iter

end iterators
