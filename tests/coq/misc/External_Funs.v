(** THIS FILE WAS AUTOMATICALLY GENERATED BY AENEAS *)
(** [external]: function definitions *)
Require Import Primitives.
Import Primitives.
Require Import Coq.ZArith.ZArith.
Require Import List.
Import ListNotations.
Local Open Scope Primitives_scope.
Require Import External_Types.
Include External_Types.
Require Import External_FunsExternal.
Include External_FunsExternal.
Module External_Funs.

(** [external::use_get]:
    Source: 'tests/src/external.rs', lines 10:0-12:1 *)
Definition use_get
  (rc : core_cell_Cell_t u32) (st : state) : result (state * u32) :=
  core_cell_Cell_get core_marker_CopyU32 rc st
.

(** [external::incr]:
    Source: 'tests/src/external.rs', lines 14:0-16:1 *)
Definition incr
  (rc : core_cell_Cell_t u32) (st : state) :
  result (state * (core_cell_Cell_t u32))
  :=
  p <- core_cell_Cell_get_mut rc st;
  let (st1, p1) := p in
  let (i, get_mut_back) := p1 in
  i1 <- u32_add i 1%u32;
  let (_, rc1) := get_mut_back i1 st1 in
  Ok (st1, rc1)
.

End External_Funs.
